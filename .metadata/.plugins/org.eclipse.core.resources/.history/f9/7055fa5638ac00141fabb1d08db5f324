package simulator;

import java.awt.*;
import java.awt.event.*;
import java.util.*;
import javax.swing.*;


public class simulator extends JFrame implements ActionListener{

    GridLayout experimentLayout = new GridLayout(0,15);
    
    JLabel xlabel,ylabel;
   
    /*static final int BOTTOM_LEFT_X = 2;
    static final int BOTTOM_LEFT_Y = 572;
    static final int TOP_RIGHT_X = 422;
    static final int TOP_RIGHT_Y = 2;
    
    Point startPoint = new Point(BOTTOM_LEFT_X,BOTTOM_LEFT_Y);
    Point endPoint = new Point(TOP_RIGHT_X,TOP_RIGHT_Y);*/
    
    public simulator(String name) {
    	
        super(name);
        //setPreferredSize(new Dimension(448,630));  //change frame size
        setPreferredSize(new Dimension(460,666));
        setResizable(false);
        
    }
    
    public void addComponentsToPane(final Container pane) {
   
        final JPanel panelGrid = new JPanel();
        panelGrid.setLayout(experimentLayout);
        panelGrid.setPreferredSize(new Dimension(360,604));
        
        JPanel panelControls = new JPanel();
        panelControls.setLayout(new GridLayout(0,4));
        panelControls.setPreferredSize(new Dimension(448,30));
       
        //Create and add 300 buttons to panelGrid
        for(int i=0; i < 300; i++) { 
            JButton btn = new JButton(); 
            //btn.setBackground(new java.awt.Color(51,255,51));
            btn.setBackground(Color.WHITE);
            //btn.setName(Integer.toString(i+1));
            btn.setText("0");
            panelGrid.add(btn); 
            btn.addActionListener(this);
        }
       
        //Create and add labels for coordinates display into panelControls 
        xlabel = new JLabel();
        ylabel = new JLabel();
        panelControls.add(xlabel);
        panelControls.add(ylabel);
        
        //Set up the layout of the buttons
        experimentLayout.layoutContainer(panelGrid);
           
        pane.add(panelGrid, BorderLayout.NORTH);
        pane.add(new JSeparator(), BorderLayout.CENTER);
        pane.add(panelControls, BorderLayout.SOUTH);
        
        //Display the current location of robot
       /* Component button = panelGrid.getComponent(15);
        if (button instanceof JButton){
        	button.setBackground(Color.BLUE);
        }
        else
        	xlabel.setText("not blue");*/
        
        
        
    }
    
    //change target button background color when clicked
    public void actionPerformed(ActionEvent e) {
    	
        JButton button = (JButton)e.getSource();
        
        /*int x = button.getX();
        int y = button.getY();
        xlabel.setText("x: " + Integer.toString(x));
        ylabel.setText("y: " + Integer.toString(y));*/
        
       
        //set obstacle
        if (button.getBackground() == Color.WHITE){
        	button.setBackground(Color.BLACK);
        	button.setText("1");
        }
        
        //remove obstacle
        else if (button.getBackground() == Color.BLACK){
        	button.setBackground(Color.WHITE);
        	button.setText("0");
        }
    }
    

    
    /**
     * Create the GUI and show it.  For thread safety,
     * this method is invoked from the
     * event dispatch thread.
     */
    private static void createAndShowGUI() {
        //Create and set up the window.
    	simulator frame = new simulator("GridLayoutDemo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        //Set up the content pane.
        frame.addComponentsToPane(frame.getContentPane());
        //Display the window.
        frame.pack();
        frame.setVisible(true);
    }
     
    public static void main(String[] args) {
        /* Use an appropriate Look and Feel */
        try {
            //UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
            UIManager.setLookAndFeel("javax.swing.plaf.metal.MetalLookAndFeel");
        } catch (UnsupportedLookAndFeelException ex) {
            ex.printStackTrace();
        } catch (IllegalAccessException ex) {
            ex.printStackTrace();
        } catch (InstantiationException ex) {
            ex.printStackTrace();
        } catch (ClassNotFoundException ex) {
            ex.printStackTrace();
        }
        /* Turn off metal's use of bold fonts */
        UIManager.put("swing.boldMetal", Boolean.FALSE);
         
        //Schedule a job for the event dispatch thread:
        //creating and showing this application's GUI.
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGUI();
            }
        });
    
        
        
    }
}
